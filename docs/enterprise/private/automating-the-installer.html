<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Terraform by HashiCorp">

    <link rel="apple-touch-icon" sizes="180x180" href="https://ewilde.github.io/terraform-provider-openfaas/assets/images/favicons/apple-touch-icon-13180a24.png">
    <link rel="icon" type="image/png" href="https://ewilde.github.io/terraform-provider-openfaas/assets/images/favicons/favicon-32x32-62171ffd.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://ewilde.github.io/terraform-provider-openfaas/assets/images/favicons/favicon-16x16-2821bcc8.png" sizes="16x16">
    <link rel="manifest" href="/android-manifest.json">
    <link rel="mask-icon" href="https://ewilde.github.io/terraform-provider-openfaas/assets/images/favicons/safari-pinned-tab-bab846e1.svg" color="#5C4EE5">
    <meta name="msapplication-config" content="/microsoft-tile.xml" />
    <meta name="theme-color" content="#ffffff">

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@HashiCorp" />
    <meta name="twitter:creator" content="@HashiCorp" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ewilde.github.io/terraform-provider-openfaas/docs/enterprise/private/automating-the-installer.html" />
    <meta property="og:title" content="Private Terraform Enterprise Automated Installation (Installer) - Terraform by HashiCorp" />
    <meta property="og:site_name" content="Terraform by HashiCorp"/>
    <meta property="og:image" content="https://ewilde.github.io/terraform-provider-openfaas/https://ewilde.github.io/terraform-provider-openfaas/assets/images/og-image-f5bbc98c.png"/>
    <meta property="og:image:width" content="100"/>
    <meta property="og:image:height" content="100"/>
    <meta property="og:description" content="Terraform by HashiCorp" />

    <title>Private Terraform Enterprise Automated Installation (Installer) - Terraform by HashiCorp</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://use.typekit.net/wxf7mfi.css">
    <link href="https://ewilde.github.io/terraform-provider-openfaas/assets/stylesheets/application-845f4575.css" rel="stylesheet" />

    <!-- Site scripts -->
    <!--[if lt IE 9]><script src="https://ewilde.github.io/terraform-provider-openfaas/assets/javascripts/ie-compat-c141a02d.js" defer="defer"></script><![endif]-->
    <script src="https://ewilde.github.io/terraform-provider-openfaas/assets/javascripts/application-e080fe63.js" defer="defer"></script>

    <!-- Analytics scrpts -->
    <script defer>
      !function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],e.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),e.push(a),e}};for(var t=0;t<e.methods.length;t++){var a=e.methods[t];e[a]=e.factory(a)}e.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)},e.SNIPPET_VERSION="4.0.0",e.load("0EXTgkNx0Ydje2PGXVbRhpKKoe5wtzcE")}}();var om597a24292a958,om597a24292a958_poll=function(){var e=0;return function(t,a){clearInterval(e),e=setInterval(t,a)}}();!function(e,t,a){if(e.getElementById(a))om597a24292a958_poll(function(){if(window.om_loaded&&!om597a24292a958)return(om597a24292a958=new OptinMonsterApp).init({s:"35109.597a24292a958",staging:0,dev:0,beta:0})},25);else{var n=!1,o=e.createElement("script");o.id=a,o.src="//a.optnmstr.com/app/js/api.min.js",o.async=!0,o.onload=o.onreadystatechange=function(){if(!(n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState))try{n=om_loaded=!0,(om597a24292a958=new OptinMonsterApp).init({s:"35109.597a24292a958",staging:0,dev:0,beta:0}),o.onload=o.onreadystatechange=null}catch(e){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}}(document,0,"omapi-script");
    </script>

    
  </head>

  <body id="page-docs-enterprise2-private-installer-automating" class="layout-enterprise2 page-private-terraform-enterprise-automated-installation-installer-">

    <svg class="hidden-print" aria-hidden="true" style="position: absolute; width: 0; height: 0;" width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <symbol id="mega-nav-icon-angle" viewBox="0 0 13 7">
      <polygon points="6.5,6.5 0.7,1.6 1.3,0.8 6.5,5.2 11.7,0.8 12.3,1.6 "/>
    </symbol>
    <symbol id="mega-nav-icon-close" viewBox="0 0 13 15">
      <path vector-effect="non-scaling-stroke" d="M1.1 14L11.9 1M11.9 14L1.1 1"/>
    </symbol>
  </defs>
</svg>
<div class="hidden-print mega-nav-sandbox">
  <div class="mega-nav-banner">
    <div class="container">
      <div class="mega-nav-banner-item">
        <a class="mega-nav-banner-logo" href="https://www.hashicorp.com"><img src="https://ewilde.github.io/terraform-provider-openfaas/assets/images/mega-nav/logo-hashicorp-wordmark-bbed0e8a.svg" alt="HashiCorp Logo" /></a>
      </div>
      <div class="mega-nav-banner-item">
        <p class="mega-nav-tagline"><span class="visible-xs text-muted">Learn the</span><span class="hidden-xs text-muted">Learn how Terraform fits into the</span></p>
        <div id="#mega-nav" class="mega-nav">
          <button type="button" id="mega-nav-ctrl" class="mega-nav-ctrl">
            <div class="mega-nav-ctrl-items">
              <img src="https://ewilde.github.io/terraform-provider-openfaas/assets/images/mega-nav/logo-hashicorp-a66fda95.svg" alt="HashiCorp Logo" />
              <strong>HashiCorp Suite</strong>
              <span class="mega-nav-icon-outline">
                <svg class="mega-nav-icon mega-nav-icon-angle-right" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-angle"></use></svg><span class="visuallyhidden">Open</span>
              </span>
            </div>
          </button>
          <div id="mega-nav-body-ct" class="mega-nav-body-ct" aria-labelledby="mega-nav-ctrl">
            <div class="mega-nav-body">
              <button type="button" id="mega-nav-close" class="mega-nav-close"><svg class="mega-nav-icon mega-nav-icon-close" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-close"></use></svg><span class="visuallyhidden">Close</span></button>
              <div class="mega-nav-body-header">
                <div class="mega-nav-body-header-item">
                  <h2 class="mega-nav-h1">Provision, Secure, Connect, and&nbsp;Run</h2>
                  <p class="mega-nav-h2">Any infrastructure for any&nbsp;application</p>
                </div>
                <div class="mega-nav-body-header-item">
                  <a href="https://www.hashicorp.com/" class="mega-nav-btn"><img src="https://ewilde.github.io/terraform-provider-openfaas/assets/images/mega-nav/logo-hashicorp-a66fda95.svg" alt="HashiCorp Logo" /> Learn the HashiCorp Enterprise&nbsp;Suite <svg class="mega-nav-icon mega-nav-icon-angle-right" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mega-nav-icon-angle"></use></svg></a>
                </div>
              </div>
              <div class="mega-nav-body-grid">
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Provision</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.vagrantup.com" class="mega-nav-grid-item mega-nav-grid-item-vagrant">
                        <div class="mega-nav-grid-item-img">
                          <img src="https://ewilde.github.io/terraform-provider-openfaas/assets/images/mega-nav/logo-vagrant-a7ab5898.svg" alt="Vagrant Logo" />
                        </div>
                        <b>Vagrant</b>
                        <ul>
                          <li><span class="mega-nav-tag">Build</span></li>
                          <li><span class="mega-nav-tag">Test</span></li>
                        </ul>
                      </a>
                    </li>
                    <li>
                      <a href="https://www.packer.io" class="mega-nav-grid-item mega-nav-grid-item-packer">
                        <div class="mega-nav-grid-item-img">
                          <img src="https://ewilde.github.io/terraform-provider-openfaas/assets/images/mega-nav/logo-packer-cb3b9b94.svg" alt="Packer Logo" />
                        </div>
                        <b>Packer</b>
                        <ul>
                          <li><span class="mega-nav-tag">Package</span></li>
                        </ul>
                      </a>
                    </li>
                    <li>
                      <a href="https://www.terraform.io" class="mega-nav-grid-item mega-nav-grid-item-terraform">
                        <div class="mega-nav-grid-item-img">
                          <img src="https://ewilde.github.io/terraform-provider-openfaas/assets/images/mega-nav/logo-terraform-ff69eaae.svg" alt="Terraform Logo" />
                        </div>
                        <b>Terraform</b>
                        <ul>
                          <li><span class="mega-nav-tag">Provision</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Secure</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.vaultproject.io" class="mega-nav-grid-item mega-nav-grid-item-vault">
                        <div class="mega-nav-grid-item-img">
                          <img src="https://ewilde.github.io/terraform-provider-openfaas/assets/images/mega-nav/logo-vault-0f83e3d2.svg" alt="Vault Logo" />
                        </div>
                        <b>Vault</b>
                        <ul>
                          <li><span class="mega-nav-tag">Secure</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Connect</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.consul.io" class="mega-nav-grid-item mega-nav-grid-item-consul">
                        <div class="mega-nav-grid-item-img">
                          <img src="https://ewilde.github.io/terraform-provider-openfaas/assets/images/mega-nav/logo-consul-c77f6844.svg" alt="Consul Logo" />
                        </div>
                        <b>Consul</b>
                        <ul>
                          <li><span class="mega-nav-tag">Connect</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
                <div class="mega-nav-body-grid-item">
                  <h3 class="mega-nav-h3">Run</h3>
                  <ul class="mega-nav-grid">
                    <li>
                      <a href="https://www.nomadproject.io" class="mega-nav-grid-item mega-nav-grid-item-nomad">
                        <div class="mega-nav-grid-item-img">
                          <img src="https://ewilde.github.io/terraform-provider-openfaas/assets/images/mega-nav/logo-nomad-c4c148be.svg" alt="Nomad Logo" />
                        </div>
                        <b>Nomad</b>
                        <ul>
                          <li><span class="mega-nav-tag">Run</span></li>
                        </ul>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="mega-nav-body-footer">
                <p>Seven elements of the modern Application Lifecycle</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


    <div id="header" class="navigation navbar-static-top hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <div class="navbar-header">
              <div class="navbar-brand">
                <a href="/">
                  <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 251 61" class="logo" height="50">
  <path class="text" fill="#000" fill-rule="nonzero" d="M81.78 19.54h-8.89v-5.31H96.7v5.31h-8.9v26.53h-6"></path>
  <path class="text" fill="#000" fill-rule="nonzero" d="M102.19 41.77c2.415-.012 4.814-.383 7.12-1.1l.91 4.4c-2.745.99-5.642 1.49-8.56 1.48-7.31 0-9.85-3.39-9.85-9V31.4c0-4.92 2.2-9.08 9.66-9.08s9.13 4.35 9.13 9.37v5h-13v1.2c.05 2.78 1.05 3.88 4.59 3.88zM97.65 32h7.41v-1.18c0-2.2-.67-3.73-3.54-3.73s-3.87 1.53-3.87 3.73V32zm28.54-4.33c-2.148.97-4.217 2.102-6.19 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.6 5.36zm14.24 0c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.58 5.36zm19.51 18.4h-4.78l-.43-1.58c-2.062 1.342-4.47 2.058-6.93 2.06-4.25 0-6.07-2.92-6.07-6.93 0-4.73 2.06-6.55 6.79-6.55h5.59v-2.44c0-2.58-.72-3.49-4.45-3.49-2.17.024-4.33.266-6.45.72l-.72-4.45c2.606-.72 5.296-1.09 8-1.1 7.31 0 9.47 2.58 9.47 8.41l-.02 15.35zm-5.83-8.8h-4.3c-1.91 0-2.44.53-2.44 2.29s.53 2.34 2.34 2.34c1.544-.024 3.058-.436 4.4-1.2v-3.43zm23.75-19.79c-1.1-.237-2.224-.364-3.35-.38-2.29 0-2.63 1-2.63 2.77v2.92h5.93l-.33 4.64h-5.59v18.64h-5.83V27.43h-3.73v-4.64h3.73v-3.25c0-4.83 2.25-7.22 7.41-7.22 1.69-.006 3.372.22 5 .67l-.61 4.49zm11.38 29.07c-8 0-10.13-4.4-10.13-9.18v-5.88c0-4.78 2.15-9.18 10.13-9.18s10.13 4.4 10.13 9.18v5.88c.01 4.78-2.15 9.18-10.13 9.18zm0-19.27c-3.11 0-4.3 1.39-4.3 4v6.26c0 2.63 1.2 4 4.3 4 3.1 0 4.3-1.39 4.3-4V31.3c0-2.63-1.19-4.02-4.3-4.02zm25.14.39c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.954-2.313 6.12-3.06l.58 5.36zm16.02 18.4V29.82c0-1.24-.53-1.86-1.86-1.86-2.137.254-4.2.934-6.07 2v16.11h-5.83V22.79h4.45l.57 2c2.906-1.47 6.088-2.315 9.34-2.48 1.843-.174 3.6.82 4.4 2.49 2.91-1.49 6.104-2.34 9.37-2.49 3.87 0 5.26 2.72 5.26 6.88v16.88h-5.83V29.82c0-1.24-.53-1.86-1.86-1.86-2.14.236-4.208.917-6.07 2v16.11h-5.87z"></path>
  <path class="rect-dark" fill="#4040B2" d="M36.4 39.13l16.4-9.46V10.72L36.4 20.2"></path>
  <path class="rect-light" fill="#5C4EE5" d="M18.2 10.72l16.4 9.48v18.93l-16.4-9.47"></path>
  <path class="rect-light" fill="#5C4EE5" d="M0 19.09l16.4 9.47V9.62L0 .15m18.2 50.53l16.4 9.47V41.21l-16.4-9.47"></path>
</svg>

                </a>
              </div>
              <button class="navbar-toggle" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>
            <div class="buttons hidden-xs">
              <nav class="navigation-links" role="navigation">
                <ul class="main-links nav navbar-nav navbar-right">
                  <li><a href="/intro/index.html">Intro</a></li>
                  <li><a href="/docs/index.html">Docs</a></li>
                  <li><a href="/guides/index.html">Guides</a></li>
                  <li><a href="/docs/extend/index.html">Extend</a></li>
                  <li><a href="https://www.hashicorp.com/products/terraform/?utm_source=oss&utm_medium=header-nav&utm_campaign=terraform">Enterprise</a></li>
                  <li>
                    <a href="/downloads.html">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h28V0zM13.8 22.9L7 17.3l2-2.4 3.2 2.6V7h3.2v10.5l3.2-2.6 2 2.4L13.8 22.9z"></path>
</svg>
 Download
                    </a>
                  </li>
                  <li>
                    <a href="https://github.com/hashicorp/terraform">
                      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h11.4c0 0 0-1.3 0-2.4C7.7 26.4 7 23.9 7 23.9 6.4 22.4 5.5 22 5.5 22c-1.2-0.8 0.1-0.8 0.1-0.8 1.3 0.1 2 1.4 2 1.4 1.2 2 3 1.4 3.8 1.1 0.1-0.8 0.5-1.4 0.9-1.8 -2.9-0.3-6-1.5-6-6.5 0-1.4 0.5-2.6 1.3-3.5C7.5 11.5 7 10.2 7.8 8.4c0 0 1.1-0.4 3.6 1.3 1-0.3 2.2-0.4 3.3-0.4 1.1 0 2.2 0.2 3.3 0.4 2.5-1.7 3.6-1.3 3.6-1.3 0.7 1.8 0.3 3.1 0.1 3.5 0.8 0.9 1.3 2.1 1.3 3.5 0 5-3.1 6.1-6 6.5 0.5 0.4 0.9 1.2 0.9 2.4 0 1.8 0 3.7 0 3.7H28V0z"></path>
</svg>
 GitHub
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="sidebar-overlay"></div>

<aside class="sidebar" role="navigation">
  <div class="sidebar-header">
    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 251 61" class="logo" height="42">
  <path class="text" fill="#000" fill-rule="nonzero" d="M81.78 19.54h-8.89v-5.31H96.7v5.31h-8.9v26.53h-6"></path>
  <path class="text" fill="#000" fill-rule="nonzero" d="M102.19 41.77c2.415-.012 4.814-.383 7.12-1.1l.91 4.4c-2.745.99-5.642 1.49-8.56 1.48-7.31 0-9.85-3.39-9.85-9V31.4c0-4.92 2.2-9.08 9.66-9.08s9.13 4.35 9.13 9.37v5h-13v1.2c.05 2.78 1.05 3.88 4.59 3.88zM97.65 32h7.41v-1.18c0-2.2-.67-3.73-3.54-3.73s-3.87 1.53-3.87 3.73V32zm28.54-4.33c-2.148.97-4.217 2.102-6.19 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.6 5.36zm14.24 0c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.955-2.313 6.12-3.06l.58 5.36zm19.51 18.4h-4.78l-.43-1.58c-2.062 1.342-4.47 2.058-6.93 2.06-4.25 0-6.07-2.92-6.07-6.93 0-4.73 2.06-6.55 6.79-6.55h5.59v-2.44c0-2.58-.72-3.49-4.45-3.49-2.17.024-4.33.266-6.45.72l-.72-4.45c2.606-.72 5.296-1.09 8-1.1 7.31 0 9.47 2.58 9.47 8.41l-.02 15.35zm-5.83-8.8h-4.3c-1.91 0-2.44.53-2.44 2.29s.53 2.34 2.34 2.34c1.544-.024 3.058-.436 4.4-1.2v-3.43zm23.75-19.79c-1.1-.237-2.224-.364-3.35-.38-2.29 0-2.63 1-2.63 2.77v2.92h5.93l-.33 4.64h-5.59v18.64h-5.83V27.43h-3.73v-4.64h3.73v-3.25c0-4.83 2.25-7.22 7.41-7.22 1.69-.006 3.372.22 5 .67l-.61 4.49zm11.38 29.07c-8 0-10.13-4.4-10.13-9.18v-5.88c0-4.78 2.15-9.18 10.13-9.18s10.13 4.4 10.13 9.18v5.88c.01 4.78-2.15 9.18-10.13 9.18zm0-19.27c-3.11 0-4.3 1.39-4.3 4v6.26c0 2.63 1.2 4 4.3 4 3.1 0 4.3-1.39 4.3-4V31.3c0-2.63-1.19-4.02-4.3-4.02zm25.14.39c-2.14.97-4.204 2.103-6.17 3.39v15h-5.83V22.79h4.92l.38 2.58c1.897-1.284 3.954-2.313 6.12-3.06l.58 5.36zm16.02 18.4V29.82c0-1.24-.53-1.86-1.86-1.86-2.137.254-4.2.934-6.07 2v16.11h-5.83V22.79h4.45l.57 2c2.906-1.47 6.088-2.315 9.34-2.48 1.843-.174 3.6.82 4.4 2.49 2.91-1.49 6.104-2.34 9.37-2.49 3.87 0 5.26 2.72 5.26 6.88v16.88h-5.83V29.82c0-1.24-.53-1.86-1.86-1.86-2.14.236-4.208.917-6.07 2v16.11h-5.87z"></path>
  <path class="rect-dark" fill="#4040B2" d="M36.4 39.13l16.4-9.46V10.72L36.4 20.2"></path>
  <path class="rect-light" fill="#5C4EE5" d="M18.2 10.72l16.4 9.48v18.93l-16.4-9.47"></path>
  <path class="rect-light" fill="#5C4EE5" d="M0 19.09l16.4 9.47V9.62L0 .15m18.2 50.53l16.4 9.47V41.21l-16.4-9.47"></path>
</svg>

  </div>

  <ul class="nav sidebar-nav">
    <li><a href="/intro/index.html">Intro</a></li>
    <li><a href="/docs/index.html">Docs</a></li>
    <li><a href="/guides/index.html">Guides</a></li>
    <li><a href="/docs/extend/index.html">Extend</a></li>
    <li><a href="https://www.hashicorp.com/products/terraform/?utm_source=oss&utm_medium=header-nav&utm_campaign=terraform">Enterprise</a></li>
  </ul>

  <div class="divider"></div>

  <ul class="external nav sidebar-nav">
    <li>
      <a href="/downloads.html">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h28V0zM13.8 22.9L7 17.3l2-2.4 3.2 2.6V7h3.2v10.5l3.2-2.6 2 2.4L13.8 22.9z"></path>
</svg>
 Download
      </a>
    </li>
    <li>
      <a href="https://github.com/hashicorp/terraform">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 28 28" enable-background="new 0 0 28 28" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">
  <path d="M28 0H0v28h11.4c0 0 0-1.3 0-2.4C7.7 26.4 7 23.9 7 23.9 6.4 22.4 5.5 22 5.5 22c-1.2-0.8 0.1-0.8 0.1-0.8 1.3 0.1 2 1.4 2 1.4 1.2 2 3 1.4 3.8 1.1 0.1-0.8 0.5-1.4 0.9-1.8 -2.9-0.3-6-1.5-6-6.5 0-1.4 0.5-2.6 1.3-3.5C7.5 11.5 7 10.2 7.8 8.4c0 0 1.1-0.4 3.6 1.3 1-0.3 2.2-0.4 3.3-0.4 1.1 0 2.2 0.2 3.3 0.4 2.5-1.7 3.6-1.3 3.6-1.3 0.7 1.8 0.3 3.1 0.1 3.5 0.8 0.9 1.3 2.1 1.3 3.5 0 5-3.1 6.1-6 6.5 0.5 0.4 0.9 1.2 0.9 2.4 0 1.8 0 3.7 0 3.7H28V0z"></path>
</svg>
 GitHub
      </a>
    </li>
  </ul>
</aside>


    <div class="container">
  <div class="row">
    <div id="docs-sidebar" class="col-sm-4 col-md-3 col-xs-12 hidden-print" role="complementary">
          <ul class="nav docs-sidenav">
      <li>
        <a class="back" href="/docs/index.html">Documentation Home</a>
      </li>

      <li>
        <a class="back" href="/docs/enterprise/index.html">Terraform Enterprise</a>
      </li>

      <li>
        <a class="back" href="/docs/enterprise-legacy/index.html">Terraform Enterprise (legacy)</a>
      </li>

      <hr>

      <li>
        <a href="/docs/enterprise/getting-started/index.html">Getting Started</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/getting-started/access.html">Accessing TFE</a>
          </li>
          <li>
            <a href="/docs/enterprise/getting-started/vcs.html">Configuring VCS Access</a>
          </li>
          <li>
            <a href="/docs/enterprise/getting-started/workspaces.html">Creating Workspaces</a>
          </li>
          <li>
            <a href="/docs/enterprise/getting-started/runs.html">Running Terraform</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/enterprise/migrate/index.html">Migrating from Open Source</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/migrate/workspaces.html">Migrating Multiple Workspaces</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/enterprise/upgrade/index.html">Upgrading</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/upgrade/batch.html">Batch migration</a>
          </li>
          <li>
            <a href="/docs/enterprise/upgrade/differences.html">Current vs. Legacy</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/enterprise/vcs/index.html">VCS Integration</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/vcs/github.html">Github</a>
          </li>
          <li>
            <a href="/docs/enterprise/vcs/github-enterprise.html">Github Enterprise</a>
          </li>
          <li>
            <a href="/docs/enterprise/vcs/gitlab-com.html">GitLab.com</a>
          </li>
          <li>
            <a href="/docs/enterprise/vcs/gitlab-eece.html">GitLab EE and CE</a>
          </li>
          <li>
            <a href="/docs/enterprise/vcs/bitbucket-cloud.html">Bitbucket Cloud</a>
          </li>
          <li>
            <a href="/docs/enterprise/vcs/bitbucket-server.html">Bitbucket Server</a>
          </li>
          <li>
            <a href="/docs/enterprise/vcs/troubleshooting.html">Troubleshooting</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/enterprise/workspaces/index.html">Workspaces</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/workspaces/naming.html">Naming</a>
          </li>
          <li>
            <a href="/docs/enterprise/workspaces/creating.html">Creating Workspaces</a>
          </li>
          <li>
            <a href="/docs/enterprise/workspaces/access.html">Managing Access</a>
          </li>
          <li>
            <a href="/docs/enterprise/workspaces/repo-structure.html">Repo Structure</a>
          </li>
          <li>
            <a href="/docs/enterprise/workspaces/settings.html">Settings</a>
          </li>
          <li>
            <a href="/docs/enterprise/workspaces/variables.html">Variables</a>
          </li>
          <li>
            <a href="/docs/enterprise/workspaces/ssh-keys.html">SSH Keys for Modules</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/enterprise/run/index.html">Terraform Runs</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/run/states.html">Run States and Stages</a>
          </li>
          <li>
            <a href="/docs/enterprise/run/ui.html">UI/VCS-driven Runs</a>
          </li>
          <li>
            <a href="/docs/enterprise/run/api.html">API-driven Runs</a>
          </li>
          <li>
            <a href="/docs/enterprise/run/cli.html">CLI-driven Runs</a>
          </li>
          <li>
            <a href="/docs/enterprise/run/install-software.html">Installing Software</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/enterprise/registry/index.html">Private Module Registry</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/registry/using.html">Using Private Modules</a>
          </li>
          <li>
            <a href="/docs/enterprise/registry/publish.html">Publishing Private Modules</a>
          </li>
          <li>
            <a href="/docs/enterprise/registry/design.html">Configuration Designer</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/enterprise/users-teams-organizations/index.html">Users, Teams, Organizations</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/users-teams-organizations/users.html">Users</a>
          </li>
          <li>
            <a href="/docs/enterprise/users-teams-organizations/teams.html">Teams</a>
          </li>
          <li>
            <a href="/docs/enterprise/users-teams-organizations/organizations.html">Organizations</a>
          </li>
          <li>
            <a href="/docs/enterprise/users-teams-organizations/permissions.html">Permissions</a>
          </li>
          <li>
          <a href="/docs/enterprise/users-teams-organizations/2fa.html">Two-factor Authentication</a>
        </li>
          <li>
            <a href="/docs/enterprise/users-teams-organizations/service-accounts.html">Service Accounts</a>
          </li>
        </ul>
      </li>

      <li>
        <a href="/docs/enterprise/sentinel/index.html">Sentinel</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/sentinel/manage-policies.html">Manage Policies</a>
          </li>
          <li>
            <a href="/docs/enterprise/sentinel/integrate-vcs.html">Integrate with VCS</a>
          </li>
          <li>
            <a href="/docs/enterprise/sentinel/enforce.html">Enforce and Override Policies</a>
          </li>
          <li>
            <a href="/docs/enterprise/sentinel/import/index.html">Defining Policies</a>
            <ul class="nav">
              <li>
                <a href="/docs/enterprise/sentinel/import/tfplan.html">import: tfplan</a>
              </li>
              <li>
                <a href="/docs/enterprise/sentinel/import/tfconfig.html">import: tfconfig</a>
              </li>
              <li>
                <a href="/docs/enterprise/sentinel/import/tfstate.html">import: tfstate</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/enterprise/sentinel/examples.html">Example Policies</a>
          </li>
        </ul>
      </li>

      <hr>

      <li class="active">
        <a href="/docs/enterprise/private/index.html">Private Terraform Enterprise</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/private/reference-architecture-installer.html">Reference Architecture (Installer)</a>
            <ul class="nav">
              <li>
                <a href="/docs/enterprise/private/aws-setup-guide.html">AWS Reference Architecture</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/azure-setup-guide.html">Azure Reference Architecture</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/gcp-setup-guide.html">GCP Reference Architecture</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/vmware-setup-guide.html">VMware Reference Architecture</a>
              </li>
            </ul>
          <li class="active">
            <a href="/docs/enterprise/private/install-installer.html">Installation (Installer)</a>
            <ul class="nav">
              <li>
                <a href="/docs/enterprise/private/install-installer.html">Installation</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/migrate.html">Migrate from AMI</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/rhel-install-guide.html">RedHat Enterprise Linux Install Guide</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/centos-install-guide.html">CentOS Linux Install Guide</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/minio-setup-guide.html">Minio Setup Guide</a>
              </li>
              <li class="active">
                <a href="/docs/enterprise/private/automating-the-installer.html">Automated Installation</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/upgrades.html">Upgrades</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/vault.html">External Vault</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/automated-recovery.html">Automated Recovery</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/enterprise/private/install-ami.html">Installation (AMI)</a>
          </li>
          <li>
            <a href="/docs/enterprise/private/config.html">Configuration</a>
          </li>
          <li>
            <a href="/docs/enterprise/private/admin/index.html">Administration</a>
            <ul class="nav">
              <li>
                <a href="/docs/enterprise/private/admin/general.html">General Settings</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/admin/integration.html">Integration Settings</a>
              </li>
              <li>
                <a href="/docs/enterprise/private/admin/resources.html">Managing Accounts &amp; Resources</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/enterprise/saml/index.html">SAML SSO</a>
            <ul class="nav">
              <li>
                <a href="/docs/enterprise/saml/configuration.html">Configuration</a>
              </li>
              <li>
                <a href="/docs/enterprise/saml/team-membership.html">Team Membership</a>
              </li>
              <li>
                <a href="/docs/enterprise/saml/attributes.html">Attributes</a>
              </li>
              <li>
                <a href="/docs/enterprise/saml/login.html">Login</a>
              </li>
              <li>
                <a href="/docs/enterprise/saml/identity-provider-configuration.html">Identity Provider Configuration</a>
                <ul class="nav">
                  <li>
                    <a href="/docs/enterprise/saml/identity-provider-configuration-onelogin.html">OneLogin</a>
                  </li>
                  <li>
                    <a href="/docs/enterprise/saml/identity-provider-configuration-adfs.html">ADFS</a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="/docs/enterprise/saml/troubleshooting.html">Troubleshooting</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/docs/enterprise/private/reliability-availability.html">Reliability &amp; Availability</a>
          </li>
          <li>
            <a href="/docs/enterprise/private/data-security.html">Data Security</a>
          </li>
          <li>
            <a href="/docs/enterprise/private/logging.html">Logging</a>
          </li>
          <li>
            <a href="/docs/enterprise/private/diagnostics.html">Diagnostics</a>
          </li>
          <li>
            <a href="/docs/enterprise/private/faq.html">FAQs</a>
          </li>
        </ul>
      </li>

      <hr>

      <li>
        <a href="/docs/enterprise/api/index.html">API</a>
        <ul class="nav">
          <li>
            <a href="/docs/enterprise/api/account.html">Account</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/applies.html">Applies</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/configuration-versions.html">Configuration Versions</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/oauth-clients.html">OAuth Clients</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/oauth-tokens.html">OAuth Tokens</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/organizations.html">Organizations</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/organization-tokens.html">Organization Tokens</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/plans.html">Plans</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/policies.html">Policies</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/policy-checks.html">Policy Checks</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/modules.html">Registry Modules</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/run.html">Runs</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/ssh-keys.html">SSH Keys</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/state-versions.html">State Versions</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/team-access.html">Team Access</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/team-members.html">Team Membership</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/team-tokens.html">Team Tokens</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/teams.html">Teams</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/variables.html">Variables</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/workspaces.html">Workspaces</a>
          </li>
          <li>
            <a href="/docs/enterprise/api/admin/index.html">Admin</a>
            <ul class="nav">
              <li>
                <a href="/docs/enterprise/api/admin/organizations.html">Organizations</a>
              </li>
              <li>
                <a href="/docs/enterprise/api/admin/runs.html">Runs</a>
              </li>
              <li>
                <a href="/docs/enterprise/api/admin/settings.html">Settings</a>
              </li>
              <li>
                <a href="/docs/enterprise/api/admin/terraform-versions.html">Terraform Versions</a>
              </li>
              <li>
                <a href="/docs/enterprise/api/admin/users.html">Users</a>
              </li>
              <li>
                <a href="/docs/enterprise/api/admin/workspaces.html">Workspaces</a>
              </li>
            </ul>
          </li>
        </ul>
      </li>

    </ul>

    </div>

    <div id="inner" class="col-sm-8 col-md-9 col-xs-12" role="main">
      
  <h1 id="private-terraform-enterprise-automated-installation-installer-">
  <a name="private-terraform-enterprise-automated-installation-installer-" class="anchor" href="#private-terraform-enterprise-automated-installation-installer-">&raquo;</a>
  Private Terraform Enterprise Automated Installation (Installer)
</h1>
<p>The installation of Private Terraform Enterprise can be automated for both online and airgapped installs. There are two parts to automating the install: configuring <a href="https://help.replicated.com/">Replicated</a> -- the platform which runs Terraform Enterprise -- and configuring Terraform Enterprise itself.</p>
<p>Before starting the install process, you must:</p>

<ul>
<li>prepare an <a href="#application-settings">application settings</a> file, which defines the settings for the Terraform Enterprise application.
</li>
<li>prepare <code>/etc/replicated.conf</code>, which defines the settings for the Replicated installer.
</li>
<li>copy your license file to the instance.
</li>
<li>download the <code>.airgap</code> bundle to the instance (Airgapped mode only).
</li>
</ul>
<p>You may also need to provide additional flags (such as the instance&#39;s public and private IP addresses) in order to avoid being prompted for those values when running the installer (which may result in either a failure of the installer or a unbounded delay while waiting for input).</p>
<p>It&#39;s expected that the user is already familiar with how to do a <a href="/docs/enterprise/private/install-installer.html#installation">manual install</a>.</p>
<h2 id="application-settings">
  <a name="application-settings" class="anchor" href="#application-settings">&raquo;</a>
  Application settings
</h2>
<p>This file contains the values you would normally provide in the settings screen, which may be as simple as choosing the demo installation type or as complex as specifying the PostgreSQL connection string and S3 bucket credentials and parameters. You need to create this file first since it is referenced in the <code>ImportSettingsFrom</code> property in <code>/etc/replicated.conf</code>, which will be described below.</p>
<h3 id="format">
  <a name="format" class="anchor" href="#format">&raquo;</a>
  Format
</h3>
<p>The settings file is JSON formatted. All values must be strings.  The example below is suitable for a demo installation:</p>
<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terraform.example.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"installation_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poc"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"capacity_concurrency"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id="discovery">
  <a name="discovery" class="anchor" href="#discovery">&raquo;</a>
  Discovery
</h3>
<p>One the easiest ways to get the settings is to <a href="/docs/enterprise/private/install-installer.html#installation">perform a manual install</a> and configure all the settings how you want them. Then you can ssh in and request the settings in JSON format and use that file in a future automated install.</p>
<p>To extract the settings as JSON, run via ssh on the instance:</p>
<div class="highlight"><pre class="highlight plaintext"><code>ptfe$ replicatedctl app-config export &gt; settings.json
</code></pre></div><p>Here is an example app-config export for an instance configured in demo mode:</p>
<div class="highlight"><pre class="highlight plaintext"><code>ptfe$ replicatedctl app-config export &gt; settings.json
ptfe$ cat settings.json
{
    "aws_access_key_id": {},
    "aws_instance_profile": {},
    "aws_secret_access_key": {},
    "azure_account_key": {},
    "azure_account_name": {},
    "azure_container": {},
    "azure_endpoint": {},
    "ca_certs": {},
    "capacity_concurrency": {},
    "capacity_memory": {},
    "disk_path": {},
    "extern_vault_addr": {},
    "extern_vault_enable": {},
    "extern_vault_path": {},
    "extern_vault_role_id": {},
    "extern_vault_secret_id": {},
    "extern_vault_token_renew": {},
    "extra_no_proxy": {},
    "gcs_bucket": {},
    "gcs_credentials": {},
    "gcs_project": {},
    "hostname": {
        "value": "tfe.mycompany.com"
    },
    "installation_type": {
        "value": "poc"
    },
    "pg_dbname": {},
    "pg_extra_params": {},
    "pg_netloc": {},
    "pg_password": {},
    "pg_user": {},
    "placement": {},
    "production_type": {},
    "s3_bucket": {},
    "s3_endpoint": {},
    "s3_region": {},
    "s3_sse": {},
    "s3_sse_kms_key_id": {},
    "vault_path": {},
    "vault_store_snapshot": {}
}
</code></pre></div><p>Note that when you build your own settings file, you do not need to include parameters that do not have <code>value</code> keys, such as <code>extra_no_proxy</code> in the output above.</p>
<h3 id="available-settings">
  <a name="available-settings" class="anchor" href="#available-settings">&raquo;</a>
  Available settings
</h3>
<p>A number of settings are available to configure and tune your installation.  They are summarized below; it is expected the user will have completed a manual installation first and already be familiar with the nature of these parameters from the settings screen.</p>
<p>The following apply to every installation:</p>

<ul>
<li><a name="hostname" /><a href="#hostname"><code>hostname</code></a> — (Required) this is the hostname you will use to access your installation
</li>
<li><a name="installation_type" /><a href="#installation_type"><code>installation_type</code></a> — (Required) one of <code>poc</code> or <code>production</code>
</li>
<li><a name="capacity_concurrency" /><a href="#capacity_concurrency"><code>capacity_concurrency</code></a> — number of concurrent plans and applies; defaults to <code>10</code>
</li>
<li><a name="capacity_memory" /><a href="#capacity_memory"><code>capacity_memory</code></a> — The maximum amount of memory (in megabytes) that a Terraform plan or apply can use on the system; defaults to <code>256</code>
</li>
<li><a name="extra_no_proxy" /><a href="#extra_no_proxy"><code>extra_no_proxy</code></a> — (Optional) when configured to use a proxy, a <code>,</code> (comma) separated list of hosts to exclude from proxying. Please note that this list does not support whitespace characters. For example: <code>127.0.0.1,tfe.myapp.com,myco.github.com</code>.
</li>
<li><a name="ca_certs" /><a href="#ca_certs"><code>ca_certs</code></a> — (Optional) custom certificate authority (CA) bundle. JSON does not allow raw newline characters, so replace any newlines
in the data with <code>\n</code>. For instance:
</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>  --- X509 CERT ---
  aabbccddeeff
  --- X509 CERT ---
</code></pre></div><p>would become</p>
<div class="highlight"><pre class="highlight plaintext"><code>  --- X509 CERT ---\naabbccddeeff\n--- X509 CERT ---\n
</code></pre></div>
<ul>
<li><a name="extern_vault_enable" /><a href="#extern_vault_enable"><code>extern_vault_enable</code></a> — (Optional) Indicate if an external Vault cluster is being used. Set to <code>1</code> if so.

<ul>
<li>These variables are only used if <code>extern_vault_enable</code> is set to <code>1</code>
</li>
<li><a name="extern_vault_addr" /><a href="#extern_vault_addr"><code>extern_vault_addr</code></a> — (Required) URL of external Vault cluster
</li>
<li><a name="extern_vault_role_id" /><a href="#extern_vault_role_id"><code>extern_vault_role_id</code></a> — (Required) AppRole RoleId to use to authenticate with the Vault cluster
</li>
<li><a name="extern_vault_secret_id" /><a href="#extern_vault_secret_id"><code>extern_vault_secret_id</code></a> — (Required) AppRole SecretId to use to authenticate with the Vault cluster
</li>
<li><a name="extern_vault_path" /><a href="#extern_vault_path"><code>extern_vault_path</code></a> — (Optional) Path on the Vault server for the AppRole auth. Defaults to <code>auth/approle</code>
</li>
<li><a name="extern_vault_token_renew" /><a href="#extern_vault_token_renew"><code>extern_vault_token_renew</code></a> — (Optional) How often (in seconds) to renew the Vault token. Defaults to <code>3600</code>
</li>
</ul>
</li>
<li><a name="vault_path" /><a href="#vault_path"><code>vault_path</code></a> — (Optional) Path on the host system to store the vault files. If <code>extern_vault_enable</code> is set, this has no effect.
</li>
<li><a name="vault_store_snapshot" /><a href="#vault_store_snapshot"><code>vault_store_snapshot</code></a> — (Optional) Indicate if the vault files should be stored in snapshots. Set to <code>0</code> if not, Defaults to <code>1</code>.
</li>
</ul>
<h4 id="production_type-is-required-if-you-39-ve-chosen-production-for-the-installation_type-">
  <a name="production_type-is-required-if-you-39-ve-chosen-production-for-the-installation_type-" class="anchor" href="#production_type-is-required-if-you-39-ve-chosen-production-for-the-installation_type-">&raquo;</a>
  <code>production_type</code> is required if you&#39;ve chosen <code>production</code> for the <code>installation_type</code>:
</h4>

<ul>
<li><a name="production_type" /><a href="#production_type"><code>production_type</code></a> — one of <code>external</code> or <code>disk</code>
</li>
</ul>
<h4 id="disk_path-is-required-if-you-39-ve-chosen-disk-for-production_type-">
  <a name="disk_path-is-required-if-you-39-ve-chosen-disk-for-production_type-" class="anchor" href="#disk_path-is-required-if-you-39-ve-chosen-disk-for-production_type-">&raquo;</a>
  <code>disk_path</code> is required if you&#39;ve chosen <code>disk</code> for <code>production_type</code>:
</h4>

<ul>
<li><a name="disk_path" /><a href="#disk_path"><code>disk_path</code></a> — path on instance to persistent storage
</li>
</ul>
<h4 id="the-following-apply-if-you-39-ve-chosen-external-for-production_type-">
  <a name="the-following-apply-if-you-39-ve-chosen-external-for-production_type-" class="anchor" href="#the-following-apply-if-you-39-ve-chosen-external-for-production_type-">&raquo;</a>
  The following apply if you&#39;ve chosen <code>external</code> for <code>production_type</code>:
</h4>

<ul>
<li><a name="pg_user" /><a href="#pg_user"><code>pg_user</code></a> — (Required) PostgreSQL user to connect as
</li>
<li><a name="pg_password" /><a href="#pg_password"><code>pg_password</code></a> — (Required) The password for the PostgreSQL user
</li>
<li><a name="pg_netloc" /><a href="#pg_netloc"><code>pg_netloc</code></a> — (Required) The hostname and port of the target PostgreSQL server in the format <code>hostname:port</code>
</li>
<li><a name="pg_dbname" /><a href="#pg_dbname"><code>pg_dbname</code></a> — (Required) The database name
</li>
<li><a name="pg_extra_params" /><a href="#pg_extra_params"><code>pg_extra_params</code></a> — (Optional) Parameter keywords of the form <code>param1=value1&amp;param2=value2</code> to support additional options that may be necessary for your specific PostgreSQL server.  Allowed values are <a href="https://www.postgresql.org/docs/9.4/static/libpq-connect.html#LIBPQ-PARAMKEYWORDS">documented on the PostgreSQL site</a>.  An additional restriction on the <code>sslmode</code> parameter is that only the <code>require</code>, <code>verify-full</code>, <code>verify-ca</code>, and <code>disable</code> values are allowed.
</li>
</ul>
<p>The system can use either S3 or Azure, so you only need to provide one set of the following variables.</p>
<p>Select which will be used, S3 or Azure:</p>

<ul>
<li><a name="placement" /><a href="#placement"><code>placement</code></a> — (Required) Set to <code>placement_s3</code> for S3, <code>placement_azure</code> for Azure, or <code>placement_gcs</code> for GCS
</li>
</ul>
<p>For S3 (or S3-compatible storage providers):</p>

<ul>
<li><a name="aws_instance_profile" /><a href="#aws_instance_profile"><code>aws_instance_profile</code></a> (Optional) When set, use credentials from the AWS instance profile. Set to 1 to use the instance profile. Defaults to 0. If selected, <code>aws_access_key_id</code> and <code>aws_secret_access_key</code> are not required.
</li>
<li><a name="aws_access_key_id" /><a href="#aws_access_key_id"><code>aws_access_key_id</code></a> — (Required unless <code>aws_instance_profile</code> is set) AWS access key ID for S3 bucket access. To use AWS instance profiles for this information, set it to <code>&quot;&quot;</code>.
</li>
<li><a name="aws_secret_access_key" /><a href="#aws_secret_access_key"><code>aws_secret_access_key</code></a> — (Required unless <code>aws_instance_profile</code> is set) AWS secret access key for S3 bucket access. To use AWS instance profiles for this information, set it to <code>&quot;&quot;</code>.
</li>
<li><a name="s3_endpoint" /><a href="#s3_endpoint"><code>s3_endpoint</code></a> — (Optional) Endpoint URL (hostname only or fully qualified URI). Usually only needed if using a VPC endpoint or an S3-compatible storage provider.
</li>
<li><a name="s3_bucket" /><a href="#s3_bucket"><code>s3_bucket</code></a> — (Required) the S3 bucket where resources will be stored
</li>
<li><a name="s3_region" /><a href="#s3_region"><code>s3_region</code></a> — (Required) the region where the S3 bucket exists
</li>
<li><a name="s3_sse" /><a href="#s3_sse"><code>s3_sse</code></a> — (Optional) enables server-side encryption of objects in S3; if provided, must be set to <code>aws:kms</code>
</li>
<li><a name="s3_sse_kms_key_id" /><a href="#s3_sse_kms_key_id"><code>s3_sse_kms_key_id</code></a> — (Optional) An optional KMS key for use when S3 server-side encryption is enabled
</li>
</ul>
<p>For Azure:</p>

<ul>
<li><a name="azure_account_name" /><a href="#azure_account_name"><code>azure_account_name</code></a> — (Required) The account name for the Azure account to access the container
</li>
<li><a name="azure_account_key" /><a href="#azure_account_key"><code>azure_account_key</code></a> — (Required) The account key to access the account specified in <code>azure_account_name</code>
</li>
<li><a name="azure_container" /><a href="#azure_container"><code>azure_container</code></a> — (Required) The identifer for the Azure blob storage container
</li>
<li><a name="azure_endpoint" /><a href="#azure_endpoint"><code>azure_endpoint</code></a> — (Optional) The URL for the Azure cluster to use. By default this is the global cluster.
</li>
</ul>
<p>For GCS:</p>

<ul>
<li><a name="gcs_credentials" /><a href="#gcs_credentials"><code>gcs_credentials</code></a> — (Required) JSON blob containing the GCP credentials document. <strong>Note:</strong> this is a string, so ensure value is properly escaped.
</li>
<li><a name="gcs_project" /><a href="#gcs_project"><code>gcs_project</code></a> — (Required) The GCP project where the bucket resides.
</li>
<li><a name="gcs_bucket" /><a href="#gcs_bucket"><code>gcs_bucket</code></a> — (Required) The storage bucket name.
</li>
</ul>
<h2 id="online">
  <a name="online" class="anchor" href="#online">&raquo;</a>
  Online
</h2>
<p>The following is an example <code>/etc/replicated.conf</code> suitable for an automated online install using a certificate trusted by a public or private CA.  <code>ImportSettingsFrom</code> must be the full path to the application settings file.  You also need to provide the full path to your license file in <code>LicenseFileLocation</code>.</p>
<p>See the full set of configuration parameters in the <a href="https://help.replicated.com/docs/kb/developer-resources/automate-install/#configure-replicated-automatically">Replicated documentation</a>.</p>
<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"DaemonAuthenticationType"</span><span class="p">:</span><span class="w">     </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"DaemonAuthenticationPassword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-password-here"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TlsBootstrapType"</span><span class="p">:</span><span class="w">             </span><span class="s2">"server-path"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TlsBootstrapHostname"</span><span class="p">:</span><span class="w">         </span><span class="s2">"server.company.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TlsBootstrapCert"</span><span class="p">:</span><span class="w">             </span><span class="s2">"/etc/server.crt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TlsBootstrapKey"</span><span class="p">:</span><span class="w">              </span><span class="s2">"/etc/server.key"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"BypassPreflightChecks"</span><span class="p">:</span><span class="w">        </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ImportSettingsFrom"</span><span class="p">:</span><span class="w">           </span><span class="s2">"/path/to/application-settings.json"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"LicenseFileLocation"</span><span class="p">:</span><span class="w">          </span><span class="s2">"/path/to/license.rli"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id="invoking-the-installation">
  <a name="invoking-the-installation" class="anchor" href="#invoking-the-installation">&raquo;</a>
  Invoking the installation
</h3>
<p>Once <code>/etc/replicated.conf</code> has been created, you can retrieve and execute the install script as <code>root</code>:</p>
<div class="highlight"><pre class="highlight shell"><code>curl <span class="nt">-o</span> install.sh https://install.terraform.io/ptfe/stable
bash ./install.sh <span class="se">\</span>
    no-proxy <span class="se">\</span>
    private-address<span class="o">=</span>1.2.3.4 <span class="se">\</span>
    public-address<span class="o">=</span>5.6.7.8
</code></pre></div><p>Note the <code>private-address</code> and <code>public-address</code> flags provided to the installer.  These may be left out, but the installer will prompt for them if it is unable to determine appropriate values automatically.</p>
<h2 id="airgapped">
  <a name="airgapped" class="anchor" href="#airgapped">&raquo;</a>
  Airgapped
</h2>
<p>The following is an example <code>/etc/replicated.conf</code> suitable for an automated airgapped install, which builds on the online example above.  Note the addition of <code>LicenseBootstrapAirgapPackagePath</code>, which is a path to the <code>.airgap</code> bundle on the instance.</p>
<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"DaemonAuthenticationType"</span><span class="p">:</span><span class="w">          </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"DaemonAuthenticationPassword"</span><span class="p">:</span><span class="w">      </span><span class="s2">"your-password-here"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TlsBootstrapType"</span><span class="p">:</span><span class="w">                  </span><span class="s2">"server-path"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TlsBootstrapHostname"</span><span class="p">:</span><span class="w">              </span><span class="s2">"server.company.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TlsBootstrapCert"</span><span class="p">:</span><span class="w">                  </span><span class="s2">"/etc/server.crt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TlsBootstrapKey"</span><span class="p">:</span><span class="w">                   </span><span class="s2">"/etc/server.key"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"BypassPreflightChecks"</span><span class="p">:</span><span class="w">             </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ImportSettingsFrom"</span><span class="p">:</span><span class="w">                </span><span class="s2">"/path/to/application-settings.json"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"LicenseFileLocation"</span><span class="p">:</span><span class="w">               </span><span class="s2">"/path/to/license.rli"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"LicenseBootstrapAirgapPackagePath"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/path/to/bundle.airgap"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id="invoking-the-installation-1">
  <a name="invoking-the-installation-1" class="anchor" href="#invoking-the-installation-1">&raquo;</a>
  Invoking the installation
</h3>
<p>Following on from the <a href="/docs/enterprise/private/install-installer.html#run-the-installer-airgapped">manual airgapped install</a> steps, you must also have the installer bootstrapper already on the instance.  For illustrative purposes, it is assumed the installer bootstrapper has been unarchived in <code>/tmp</code>.</p>
<p>Once <code>/etc/replicated.conf</code> has been created, you can now execute the install script as <code>root</code>:</p>
<div class="highlight"><pre class="highlight shell"><code><span class="nb">cd</span> /tmp
./install.sh <span class="se">\</span>
    airgap <span class="se">\</span>
    no-proxy <span class="se">\</span>
    private-address<span class="o">=</span>1.2.3.4 <span class="se">\</span>
    public-address<span class="o">=</span>5.6.7.8
</code></pre></div><h2 id="waiting-for-terraform-enterprise-to-become-ready">
  <a name="waiting-for-terraform-enterprise-to-become-ready" class="anchor" href="#waiting-for-terraform-enterprise-to-become-ready">&raquo;</a>
  Waiting for Terraform Enterprise to become ready
</h2>
<p>Once the installer finishes, you may poll the <code>/_health_check</code> endpoint until a <code>200</code> is returned by the application, indicating that it is fully started:</p>
<div class="highlight"><pre class="highlight shell"><code><span class="k">while</span> <span class="o">!</span> curl <span class="nt">-ksfS</span> <span class="nt">--connect-timeout</span> 5 https://tfe.example.com/_health_check<span class="p">;</span> <span class="k">do
    </span>sleep 5
<span class="k">done</span>
</code></pre></div><h2 id="references">
  <a name="references" class="anchor" href="#references">&raquo;</a>
  References
</h2>

<ul>
<li><a href="https://help.replicated.com/docs/distributing-an-application/installing-via-script/#flags">Replicated installer flags</a>
</li>
<li><a href="https://help.replicated.com/docs/kb/developer-resources/automate-install/#configure-replicated-automatically"><code>/etc/replicated.conf</code></a>
</li>
<li><a href="https://help.replicated.com/docs/kb/developer-resources/automate-install/#configure-app-settings-automatically">application settings</a>
</li>
</ul>


    </div>
  </div>
</div>


    <div id="footer" class="navigation hidden-print">
      <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <ul class="footer-links nav navbar-nav">
              <li><a href="/intro/index.html">Intro</a></li>
              <li><a href="/docs/index.html">Docs</a></li>
              <li><a href="/docs/extend/index.html">Extend</a></li>
              <li><a href="https://www.hashicorp.com/privacy">Privacy</a></li>
              <li><a href="/security.html">Security</a></li>
              <li><a href="/assets/files/press-kit.zip">Press Kit</a></li>
            </ul>
            <ul class="footer-links nav navbar-nav navbar-right">
              <li><a href="https://github.com/hashicorp/terraform-website">Edit this page</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Product",
        "name": "Terraform",
        "alternateName": "Terraform by HashiCorp",
        "manufacturer": "HashiCorp",
        "url": "https://www.terraform.io",
        "logo": "https://ewilde.github.io/terraform-provider-openfaas/https://ewilde.github.io/terraform-provider-openfaas/assets/images/logo-hashicorp-3f10732f.svg",
        "sameAs": [
          "https://github.com/hashicorp/terraform"
        ]
      }
    </script>
  </body>
</html>
